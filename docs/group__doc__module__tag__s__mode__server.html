<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KNX IoT: s-mode server</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="knx-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KNX IoT
   </div>
   <div id="projectbrief">KNX IoT Point API stack implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__doc__module__tag__s__mode__server.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">s-mode server</div>  </div>
</div><!--header-->
<div class="contents">

<p>S-mode server side support functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__doc__module__tag__s__mode__client"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__client.html">s-mode client</a></td></tr>
<tr class="memdesc:group__doc__module__tag__s__mode__client"><td class="mdescLeft">&#160;</td><td class="mdescRight">S-mode Client side support functions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf9413b71bc87528a1a07c3a48b03155c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#gaf9413b71bc87528a1a07c3a48b03155c">oc_do_s_mode_read</a> (int64_t group_address)</td></tr>
<tr class="memdesc:gaf9413b71bc87528a1a07c3a48b03155c"><td class="mdescLeft">&#160;</td><td class="mdescRight">sends out an s-mode read request.  <a href="group__doc__module__tag__s__mode__server.html#gaf9413b71bc87528a1a07c3a48b03155c">More...</a><br /></td></tr>
<tr class="separator:gaf9413b71bc87528a1a07c3a48b03155c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa56ebec494c6618ccd36f7d85c52be1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#gaa56ebec494c6618ccd36f7d85c52be1c">oc_do_s_mode_with_scope</a> (int scope, const char *resource_url, char *rp)</td></tr>
<tr class="memdesc:gaa56ebec494c6618ccd36f7d85c52be1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">sends (transmits) an s-mode message the value comes from the GET of the resource indicated by the resource_url the path is "k" the sia (sender individual address) is taken from the device the ga is coming from the group address table that is listing the resource url (path) the url of the resource to obtain the value from.  <a href="group__doc__module__tag__s__mode__server.html#gaa56ebec494c6618ccd36f7d85c52be1c">More...</a><br /></td></tr>
<tr class="separator:gaa56ebec494c6618ccd36f7d85c52be1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2881d2445dd79650829a22825d76520"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#gad2881d2445dd79650829a22825d76520">oc_do_s_mode_with_scope_no_check</a> (int scope, const char *resource_url, char *rp)</td></tr>
<tr class="memdesc:gad2881d2445dd79650829a22825d76520"><td class="mdescLeft">&#160;</td><td class="mdescRight">sends (transmits) an s-mode message the value comes from the GET of the resource indicated by the resource_url the path is "k" the sia (sender individual address) is taken from the device the ga is coming from the group address table that is listing the resource url (path) the url of the resource to obtain the value from.  <a href="group__doc__module__tag__s__mode__server.html#gad2881d2445dd79650829a22825d76520">More...</a><br /></td></tr>
<tr class="separator:gad2881d2445dd79650829a22825d76520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36b03e4719edd7bc3ea330c995caaff0"><td class="memItemLeft" align="right" valign="top">oc_s_mode_response_cb_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#ga36b03e4719edd7bc3ea330c995caaff0">oc_get_s_mode_response_cb</a> ()</td></tr>
<tr class="memdesc:ga36b03e4719edd7bc3ea330c995caaff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve the callback function  <a href="group__doc__module__tag__s__mode__server.html#ga36b03e4719edd7bc3ea330c995caaff0">More...</a><br /></td></tr>
<tr class="separator:ga36b03e4719edd7bc3ea330c995caaff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4fc3569049c381a19a80022ac1439675"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#ga4fc3569049c381a19a80022ac1439675">oc_is_redirected_request</a> (<a class="el" href="structoc__request__t.html">oc_request_t</a> *request)</td></tr>
<tr class="memdesc:ga4fc3569049c381a19a80022ac1439675"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if the request is a redirected request from /k or /p when that happened, extra information can be in the CBOR object  <a href="group__doc__module__tag__s__mode__server.html#ga4fc3569049c381a19a80022ac1439675">More...</a><br /></td></tr>
<tr class="separator:ga4fc3569049c381a19a80022ac1439675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7f0b28c63b1b539dab013e7b1095cc1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#gaa7f0b28c63b1b539dab013e7b1095cc1">oc_set_s_mode_response_cb</a> (oc_s_mode_response_cb_t my_func)</td></tr>
<tr class="memdesc:gaa7f0b28c63b1b539dab013e7b1095cc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the s-mode response callback e.g.  <a href="group__doc__module__tag__s__mode__server.html#gaa7f0b28c63b1b539dab013e7b1095cc1">More...</a><br /></td></tr>
<tr class="separator:gaa7f0b28c63b1b539dab013e7b1095cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>S-mode server side support functions. </p>
<p>This module contains the receiving side of the s-mode functionality. The received s-mode messages are routed to the appropriate POST methods of the data point. However since not all data is in the s-mode message the POST method needs to retrieve the data from the s-mode message differently than for an normal CoAP post message (the message payload is constructed differently). </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf9413b71bc87528a1a07c3a48b03155c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9413b71bc87528a1a07c3a48b03155c">&#9670;&nbsp;</a></span>oc_do_s_mode_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oc_do_s_mode_read </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>group_address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sends out an s-mode read request. </p>
<p>The read request has no data value</p>
<p>Note: function does not check the flags on the resources</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__doc__module__tag__s__mode__server.html#gaa56ebec494c6618ccd36f7d85c52be1c" title="sends (transmits) an s-mode message the value comes from the GET of the resource indicated by the res...">oc_do_s_mode_with_scope</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group_address</td><td>the group address to invoke a read on </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa56ebec494c6618ccd36f7d85c52be1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa56ebec494c6618ccd36f7d85c52be1c">&#9670;&nbsp;</a></span>oc_do_s_mode_with_scope()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oc_do_s_mode_with_scope </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>rp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sends (transmits) an s-mode message the value comes from the GET of the resource indicated by the resource_url the path is "k" the sia (sender individual address) is taken from the device the ga is coming from the group address table that is listing the resource url (path) the url of the resource to obtain the value from. </p>
<p>only the first group address is used to send the s-mode message for the recipient table all entries are used to send the unicast communication.</p>
<p>Note: function does check the T flag on the resource if the T flag is not set, then the message is NOT send.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scope</td><td>the multi-cast scope </td></tr>
    <tr><td class="paramname">resource_url</td><td>URI of the resource (e.g. implemented on the device that is calling this function) </td></tr>
    <tr><td class="paramname">rp</td><td>the "st" value to send e.g. "w" | "rp" | "r" </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad2881d2445dd79650829a22825d76520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2881d2445dd79650829a22825d76520">&#9670;&nbsp;</a></span>oc_do_s_mode_with_scope_no_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oc_do_s_mode_with_scope_no_check </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>resource_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>rp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sends (transmits) an s-mode message the value comes from the GET of the resource indicated by the resource_url the path is "k" the sia (sender individual address) is taken from the device the ga is coming from the group address table that is listing the resource url (path) the url of the resource to obtain the value from. </p>
<p>only the first group address is used to send the s-mode message for the recipient table all entries are used to send the unicast communication.</p>
<p>Note: function does NOT check the T flag on the resource e.g. always send the s-mode message used in case the rp value = "rp", e.g.sending a response on read ("r")</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scope</td><td>the multi-cast scope </td></tr>
    <tr><td class="paramname">resource_url</td><td>URI of the resource (e.g. implemented on the device that is calling this function) </td></tr>
    <tr><td class="paramname">rp</td><td>the "st" value to send e.g. "w" | "rp" | "r" </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga36b03e4719edd7bc3ea330c995caaff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36b03e4719edd7bc3ea330c995caaff0">&#9670;&nbsp;</a></span>oc_get_s_mode_response_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">oc_s_mode_response_cb_t oc_get_s_mode_response_cb </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>retrieve the callback function </p>
<dl class="section return"><dt>Returns</dt><dd>oc_s_mode_response_cb_t the callback function that has been set </dd></dl>

</div>
</div>
<a id="ga4fc3569049c381a19a80022ac1439675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4fc3569049c381a19a80022ac1439675">&#9670;&nbsp;</a></span>oc_is_redirected_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool oc_is_redirected_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structoc__request__t.html">oc_request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks if the request is a redirected request from /k or /p when that happened, extra information can be in the CBOR object </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>the request to be checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

</div>
</div>
<a id="gaa7f0b28c63b1b539dab013e7b1095cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7f0b28c63b1b539dab013e7b1095cc1">&#9670;&nbsp;</a></span>oc_set_s_mode_response_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool oc_set_s_mode_response_cb </td>
          <td>(</td>
          <td class="paramtype">oc_s_mode_response_cb_t&#160;</td>
          <td class="paramname"><em>my_func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set the s-mode response callback e.g. </p>
<p>function is called when a s-mode response is coming back</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">my_func</td><td>the callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true function set </dd>
<dd>
false function set failed </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 8 2024 17:32:39 for KNX IoT by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
