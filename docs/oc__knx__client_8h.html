<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KNX IoT: oc_knx_client.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="knx-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KNX IoT
   </div>
   <div id="projectbrief">KNX IoT Point API stack implementation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('oc__knx__client_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">oc_knx_client.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>client code for the device (s-mode)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
</div>
<p><a href="oc__knx__client_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5279b21aca5fa82ec32fcd07b1c6bfe6"><td class="memItemLeft" align="right" valign="top"><a id="a5279b21aca5fa82ec32fcd07b1c6bfe6"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>oc_s_mode_response_cb_t</b>) (char *url, <a class="el" href="oc__rep_8h.html#acc9813f3e8eb5e0b62db8f13ca3ffb96">oc_rep_t</a> *rep, <a class="el" href="oc__rep_8h.html#acc9813f3e8eb5e0b62db8f13ca3ffb96">oc_rep_t</a> *rep_value)</td></tr>
<tr class="separator:a5279b21aca5fa82ec32fcd07b1c6bfe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ad00ae36358126216670e952203221"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oc__knx__client_8h.html#ae3ad00ae36358126216670e952203221">oc_spake_cb_t</a>) (int error, char *serial_number, char *oscore_id, int oscore_id_size, uint8_t *secret, int secret_size)</td></tr>
<tr class="memdesc:ae3ad00ae36358126216670e952203221"><td class="mdescLeft">&#160;</td><td class="mdescRight">the spake response callback type e.g.  <a href="oc__knx__client_8h.html#ae3ad00ae36358126216670e952203221">More...</a><br /></td></tr>
<tr class="separator:ae3ad00ae36358126216670e952203221"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf9413b71bc87528a1a07c3a48b03155c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#gaf9413b71bc87528a1a07c3a48b03155c">oc_do_s_mode_read</a> (int64_t group_address)</td></tr>
<tr class="memdesc:gaf9413b71bc87528a1a07c3a48b03155c"><td class="mdescLeft">&#160;</td><td class="mdescRight">sends out an s-mode read request.  <a href="group__doc__module__tag__s__mode__server.html#gaf9413b71bc87528a1a07c3a48b03155c">More...</a><br /></td></tr>
<tr class="separator:gaf9413b71bc87528a1a07c3a48b03155c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa56ebec494c6618ccd36f7d85c52be1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#gaa56ebec494c6618ccd36f7d85c52be1c">oc_do_s_mode_with_scope</a> (int scope, const char *resource_url, char *rp)</td></tr>
<tr class="memdesc:gaa56ebec494c6618ccd36f7d85c52be1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">sends (transmits) an s-mode message the value comes from the GET of the resource indicated by the resource_url the path is "k" the sia (sender individual address) is taken from the device the ga is coming from the group address table that is listing the resource url (path) the url of the resource to obtain the value from.  <a href="group__doc__module__tag__s__mode__server.html#gaa56ebec494c6618ccd36f7d85c52be1c">More...</a><br /></td></tr>
<tr class="separator:gaa56ebec494c6618ccd36f7d85c52be1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2881d2445dd79650829a22825d76520"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#gad2881d2445dd79650829a22825d76520">oc_do_s_mode_with_scope_no_check</a> (int scope, const char *resource_url, char *rp)</td></tr>
<tr class="memdesc:gad2881d2445dd79650829a22825d76520"><td class="mdescLeft">&#160;</td><td class="mdescRight">sends (transmits) an s-mode message the value comes from the GET of the resource indicated by the resource_url the path is "k" the sia (sender individual address) is taken from the device the ga is coming from the group address table that is listing the resource url (path) the url of the resource to obtain the value from.  <a href="group__doc__module__tag__s__mode__server.html#gad2881d2445dd79650829a22825d76520">More...</a><br /></td></tr>
<tr class="separator:gad2881d2445dd79650829a22825d76520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36b03e4719edd7bc3ea330c995caaff0"><td class="memItemLeft" align="right" valign="top">oc_s_mode_response_cb_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#ga36b03e4719edd7bc3ea330c995caaff0">oc_get_s_mode_response_cb</a> ()</td></tr>
<tr class="memdesc:ga36b03e4719edd7bc3ea330c995caaff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieve the callback function  <a href="group__doc__module__tag__s__mode__server.html#ga36b03e4719edd7bc3ea330c995caaff0">More...</a><br /></td></tr>
<tr class="separator:ga36b03e4719edd7bc3ea330c995caaff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8eb474080b81db33aff7ab17b4d48c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oc__knx__client_8h.html#ad8eb474080b81db33aff7ab17b4d48c5">oc_initiate_spake</a> (<a class="el" href="structoc__endpoint__t.html">oc_endpoint_t</a> *endpoint, char *password, char *recipient_id)</td></tr>
<tr class="memdesc:ad8eb474080b81db33aff7ab17b4d48c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">initiate the spake handshake  <a href="oc__knx__client_8h.html#ad8eb474080b81db33aff7ab17b4d48c5">More...</a><br /></td></tr>
<tr class="separator:ad8eb474080b81db33aff7ab17b4d48c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a618331f09010160d11265086a466fb86"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oc__knx__client_8h.html#a618331f09010160d11265086a466fb86">oc_initiate_spake_parameter_request</a> (<a class="el" href="structoc__endpoint__t.html">oc_endpoint_t</a> *endpoint, char *serial_number, char *password, char *recipient_id, size_t recipient_id_len)</td></tr>
<tr class="memdesc:a618331f09010160d11265086a466fb86"><td class="mdescLeft">&#160;</td><td class="mdescRight">initiate the spake handshake  <a href="oc__knx__client_8h.html#a618331f09010160d11265086a466fb86">More...</a><br /></td></tr>
<tr class="separator:a618331f09010160d11265086a466fb86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4fc3569049c381a19a80022ac1439675"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#ga4fc3569049c381a19a80022ac1439675">oc_is_redirected_request</a> (<a class="el" href="structoc__request__t.html">oc_request_t</a> *request)</td></tr>
<tr class="memdesc:ga4fc3569049c381a19a80022ac1439675"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if the request is a redirected request from /k or /p when that happened, extra information can be in the CBOR object  <a href="group__doc__module__tag__s__mode__server.html#ga4fc3569049c381a19a80022ac1439675">More...</a><br /></td></tr>
<tr class="separator:ga4fc3569049c381a19a80022ac1439675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab408203d7105c215bd068c047a09562"><td class="memItemLeft" align="right" valign="top"><a class="el" href="oc__rep_8h.html#acc9813f3e8eb5e0b62db8f13ca3ffb96">oc_rep_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__client.html#gaab408203d7105c215bd068c047a09562">oc_s_mode_get_value</a> (<a class="el" href="structoc__request__t.html">oc_request_t</a> *request)</td></tr>
<tr class="memdesc:gaab408203d7105c215bd068c047a09562"><td class="mdescLeft">&#160;</td><td class="mdescRight">parses out the value of the s-mode request.  <a href="group__doc__module__tag__s__mode__client.html#gaab408203d7105c215bd068c047a09562">More...</a><br /></td></tr>
<tr class="separator:gaab408203d7105c215bd068c047a09562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7f0b28c63b1b539dab013e7b1095cc1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__doc__module__tag__s__mode__server.html#gaa7f0b28c63b1b539dab013e7b1095cc1">oc_set_s_mode_response_cb</a> (oc_s_mode_response_cb_t my_func)</td></tr>
<tr class="memdesc:gaa7f0b28c63b1b539dab013e7b1095cc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the s-mode response callback e.g.  <a href="group__doc__module__tag__s__mode__server.html#gaa7f0b28c63b1b539dab013e7b1095cc1">More...</a><br /></td></tr>
<tr class="separator:gaa7f0b28c63b1b539dab013e7b1095cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ababd1ddd7462ba619c18dec946c26af1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="oc__knx__client_8h.html#ababd1ddd7462ba619c18dec946c26af1">oc_set_spake_response_cb</a> (<a class="el" href="oc__knx__client_8h.html#ae3ad00ae36358126216670e952203221">oc_spake_cb_t</a> my_func)</td></tr>
<tr class="memdesc:ababd1ddd7462ba619c18dec946c26af1"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the spake response callback e.g.  <a href="oc__knx__client_8h.html#ababd1ddd7462ba619c18dec946c26af1">More...</a><br /></td></tr>
<tr class="separator:ababd1ddd7462ba619c18dec946c26af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>client code for the device (s-mode) </p>
<p>compile flag:</p><ul>
<li>OC_USE_MULTICAST_SCOPE_2 also sends the multicast group events with scope =2 this is needed when the devices are running on the same PC </li>
</ul>

<p class="definition">Definition in file <a class="el" href="oc__knx__client_8h_source.html">oc_knx_client.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="ae3ad00ae36358126216670e952203221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3ad00ae36358126216670e952203221">&#9670;&nbsp;</a></span>oc_spake_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* oc_spake_cb_t) (int error, char *serial_number, char *oscore_id, int oscore_id_size, uint8_t *secret, int secret_size)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the spake response callback type e.g. </p>
<p>function prototype that is called when the spake handshake is finished</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>0 = ok </td></tr>
    <tr><td class="paramname">serial_number</td><td>the serial number of the device on the other side </td></tr>
    <tr><td class="paramname">oscore_id</td><td>the oscore identifier (bytes) </td></tr>
    <tr><td class="paramname">oscore_id_size</td><td>the size in bytes of the oscore identifier </td></tr>
    <tr><td class="paramname">secret</td><td>the negotiated secret (bytes) </td></tr>
    <tr><td class="paramname">secret_size</td><td>the size in bytes of the secret </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="oc__knx__client_8h_source.html#l00045">45</a> of file <a class="el" href="oc__knx__client_8h_source.html">oc_knx_client.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad8eb474080b81db33aff7ab17b4d48c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8eb474080b81db33aff7ab17b4d48c5">&#9670;&nbsp;</a></span>oc_initiate_spake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int oc_initiate_spake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structoc__endpoint__t.html">oc_endpoint_t</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>recipient_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initiate the spake handshake </p>
<p>NOTE: recipient id in HEX string (e.g. null terminated)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>the endpoint of the device to be used </td></tr>
    <tr><td class="paramname">password</td><td>the spake password to be used </td></tr>
    <tr><td class="paramname">recipient_id</td><td>the recipient id (HEX string) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int success full start up of the handshake </dd></dl>

</div>
</div>
<a id="a618331f09010160d11265086a466fb86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a618331f09010160d11265086a466fb86">&#9670;&nbsp;</a></span>oc_initiate_spake_parameter_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int oc_initiate_spake_parameter_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structoc__endpoint__t.html">oc_endpoint_t</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>serial_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>recipient_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>recipient_id_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initiate the spake handshake </p>
<p>NOTE: After the success full handshake the OSCORE context should have:</p><ul>
<li>SID : serial number as byte array</li>
<li>RID : the recipient ID as given input</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>the endpoint of the device to be used </td></tr>
    <tr><td class="paramname">serial_number</td><td>the serial number of the device, to put back in the callback, this is a string, e.g. SN as HEX string e.g. "00FA10010701" </td></tr>
    <tr><td class="paramname">password</td><td>the spake password to be used </td></tr>
    <tr><td class="paramname">recipient_id</td><td>the recipient ID id for the resulting OSCORE context (byte string) </td></tr>
    <tr><td class="paramname">recipient_id_len</td><td>length of the recipient ID byte string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int success full start up of the handshake </dd></dl>

</div>
</div>
<a id="ababd1ddd7462ba619c18dec946c26af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ababd1ddd7462ba619c18dec946c26af1">&#9670;&nbsp;</a></span>oc_set_spake_response_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool oc_set_spake_response_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="oc__knx__client_8h.html#ae3ad00ae36358126216670e952203221">oc_spake_cb_t</a>&#160;</td>
          <td class="paramname"><em>my_func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set the spake response callback e.g. </p>
<p>function is called when the spake handshake is finished</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">my_func</td><td>the callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true function set </dd>
<dd>
false function set failed </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0188a3e6da905bc60aceb35bf790b8c9.html">api</a></li><li class="navelem"><a class="el" href="oc__knx__client_8h.html">oc_knx_client.h</a></li>
    <li class="footer">Generated on Wed Nov 1 2023 17:03:36 for KNX IoT by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
